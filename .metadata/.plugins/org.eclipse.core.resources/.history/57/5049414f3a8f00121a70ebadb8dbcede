package edu.coursera.nlp.homework.one;

import java.io.File;
import java.io.IOException;
import java.util.HashMap;
import java.util.Map;
import java.util.Scanner;

public class CountReader {

	/**
	 * {@value}
	 */
	private static final String SEPARATOR_WORD = " ";

	/**
	 * {@value}
	 */
	private static final String TAG_WORD = "WORDTAG";

	private final Map<String, Integer> wordCounts;

	public CountReader() {
		wordCounts = new HashMap<String, Integer>();
	}

	public void read(final String filePath) throws IOException {
		final Scanner scanner = new Scanner(new File(filePath));

		while (scanner.hasNext()) {
			final String currentLine = scanner.next();

			if (!currentLine.contains(TAG_WORD)) {
				break;
			}
		}
	}

	private void updateModel(final String line) {
		final String[] lineWords = currentLine.split(SEPARATOR_WORD);

		final int wordCount = Integer.parseInt(line[0]);
		final String word = line[line.length - 1];
		if (wordCounts.containsKey(word)) {
			wordCounts.put(word, wordCounts.get(word) + wordCount);
		} else {
			wordCounts.put(word, wordCount);
		}
	}

}
